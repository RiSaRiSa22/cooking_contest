---
phase: 01-foundation-auth
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - vite.config.ts
  - tsconfig.json
  - tsconfig.app.json
  - src/main.tsx
  - src/App.tsx
  - src/index.css
  - src/router.tsx
  - src/vite-env.d.ts
  - .env.example
  - .github/workflows/deploy.yml
  - .gitignore
  - index.html
autonomous: true

must_haves:
  truths:
    - "npm run dev starts the app at localhost with no errors"
    - "npm run build produces a dist/ folder with correct base path /cooking_contest/"
    - "Tailwind v4 utility classes render (bg-ink, text-parchment, font-display work)"
    - "HashRouter renders a home route at /#/"
    - "Google Fonts (Cormorant Garamond + Outfit) load correctly"
  artifacts:
    - path: "vite.config.ts"
      provides: "Vite config with React plugin, Tailwind v4 plugin, base path"
      contains: "base: '/cooking_contest/'"
    - path: "src/index.css"
      provides: "Tailwind import + @theme design tokens (colors, fonts, radii, shadows, animations)"
      contains: "@import \"tailwindcss\""
    - path: "src/router.tsx"
      provides: "createHashRouter with route definitions"
      contains: "createHashRouter"
    - path: ".github/workflows/deploy.yml"
      provides: "GitHub Actions workflow for GH Pages deploy"
      contains: "deploy-pages"
    - path: ".env.example"
      provides: "Template for Supabase env vars"
      contains: "VITE_SUPABASE_URL"
  key_links:
    - from: "src/main.tsx"
      to: "src/App.tsx"
      via: "React root render"
      pattern: "createRoot.*App"
    - from: "src/App.tsx"
      to: "src/router.tsx"
      via: "RouterProvider"
      pattern: "RouterProvider"
    - from: "vite.config.ts"
      to: "@tailwindcss/vite"
      via: "Vite plugin"
      pattern: "tailwindcss()"
---

<objective>
Scaffold the Vite + React + TypeScript project with Tailwind v4 design tokens, HashRouter, and GitHub Actions deploy workflow.

Purpose: Create the runnable foundation that all subsequent plans build on — without this, no frontend code can be written or deployed.
Output: A working dev server, production build pipeline, and deploy workflow with all design tokens from UI_REFERENCE.md mapped to Tailwind v4 @theme variables.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-auth/01-RESEARCH.md — Pattern 1 (Tailwind v4 @theme), Pattern 2 (Vite config), Pattern 3 (HashRouter), Pattern 9 (GH Actions deploy)
@UI_REFERENCE.md — Section 1 (Design System: palette, typography, shadows, radius, texture), Section 5 (Animations)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Vite project with all dependencies and config</name>
  <files>
    package.json
    vite.config.ts
    tsconfig.json
    tsconfig.app.json
    index.html
    src/vite-env.d.ts
    .gitignore
    .env.example
  </files>
  <action>
    Run `npm create vite@latest . -- --template react-ts` in the project root (use `.` to scaffold in-place since the repo already exists). Then install all Phase 1 dependencies:

    ```bash
    npm install tailwindcss @tailwindcss/vite react-router zustand @supabase/supabase-js
    npm install -D supabase
    ```

    Update `vite.config.ts` to match the verified pattern from RESEARCH.md Pattern 2:
    - Add `react()` and `tailwindcss()` plugins (import from `@tailwindcss/vite`)
    - Set `base: '/cooking_contest/'`
    - Add resolve alias: `'@': '/src'`

    Update `tsconfig.app.json` to add path alias:
    ```json
    "paths": { "@/*": ["./src/*"] }
    ```

    Create `.env.example` with:
    ```
    VITE_SUPABASE_URL=
    VITE_SUPABASE_ANON_KEY=
    ```

    Update `.gitignore` to include `.env`, `.env.local`, `dist/`, `node_modules/`, `.supabase/`.

    Update `index.html` to add Google Fonts preconnect and stylesheet links in `<head>`:
    ```html
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400;1,600&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    ```

    Set page title to "Fornelli in Gara" and add meta viewport for mobile.
  </action>
  <verify>
    Run `npm run dev` — Vite dev server starts without errors.
    Run `npm run build` — produces `dist/` with assets under `/cooking_contest/` base path.
    Check `dist/index.html` contains correct asset paths starting with `/cooking_contest/`.
  </verify>
  <done>
    Vite dev server runs, production build succeeds, all dependencies installed, Google Fonts linked in index.html.
  </done>
</task>

<task type="auto">
  <name>Task 2: Tailwind v4 design tokens + HashRouter + GH Actions deploy</name>
  <files>
    src/index.css
    src/main.tsx
    src/App.tsx
    src/router.tsx
    .github/workflows/deploy.yml
  </files>
  <action>
    **src/index.css** — Replace Vite's default CSS with the full Tailwind v4 design system. Use `@import "tailwindcss"` (NOT the v3 `@tailwind` directives). Define all tokens under `@theme` following RESEARCH.md Pattern 1 exactly:

    Colors (from UI_REFERENCE.md Section 1):
    - `--color-ink: #1A1208`, `--color-ink-mid: #4A3828`, `--color-ink-light: #8B6E56`
    - `--color-parchment: #FBF6EE`, `--color-parchment-dark: #F0E8D8`, `--color-parchment-deep: #E4D5BF`
    - `--color-ember: #C44B1B`, `--color-ember-light: #E8683A`
    - `--color-gold: #C9991F`, `--color-gold-light: #E5BC4A`
    - `--color-sage: #5C7A5A`, `--color-sage-light: #7FA87D`

    Fonts:
    - `--font-display: 'Cormorant Garamond', serif`
    - `--font-body: 'Outfit', sans-serif`

    Border radius:
    - `--radius-card: 20px`, `--radius-sm: 12px`, `--radius-pill: 50px`

    Animations — all 7 keyframes from UI_REFERENCE.md Section 5 (screenIn, sheetUp, fadeUp, popIn, flicker, pulse, spin) with corresponding `--animate-*` tokens.

    Shadows (from UI_REFERENCE.md):
    - `--shadow-sm`, `--shadow-md`, `--shadow-lg`, `--shadow-xl` with exact values.

    After `@theme`, add base body styles:
    ```css
    body {
      font-family: var(--font-body);
      color: var(--color-ink);
      background: var(--color-parchment);
      -webkit-font-smoothing: antialiased;
    }
    ```

    Add the grain texture SVG overlay as a fixed pseudo-element on body (from UI_REFERENCE.md Section 1 — fractalNoise, baseFrequency 0.85, 4 octaves, opacity 0.035).

    **src/router.tsx** — Create using `createHashRouter` from `react-router` (RESEARCH.md Pattern 3). Define routes:
    - `/` → placeholder `<div>Home</div>` (01-03 will replace)
    - `/admin/:code` → placeholder `<div>Admin</div>`
    - `/voter/:code` → placeholder `<div>Voter</div>`

    Export `AppRouter` component that renders `<RouterProvider router={router} />`.

    **src/App.tsx** — Minimal: import and render `<AppRouter />`. Remove all Vite default content.

    **src/main.tsx** — Standard React 19 root: `createRoot(document.getElementById('root')!).render(<StrictMode><App /></StrictMode>)`. Import `./index.css`.

    **.github/workflows/deploy.yml** — Copy exact workflow from RESEARCH.md Pattern 9. Ensure `path: dist` in upload-pages-artifact step. Note: the workflow expects `npm ci` and `npm run build` to run in the project root.
  </action>
  <verify>
    Run `npm run dev` and open browser:
    - Page loads at `/#/` with placeholder "Home" text
    - Text renders in Outfit font (inspect computed styles)
    - Background is `#FBF6EE` (parchment)
    - Grain overlay is visible (subtle noise texture)

    Test Tailwind tokens work by temporarily adding a test element:
    ```html
    <div class="bg-ember text-parchment p-4 rounded-pill font-display text-2xl">Test</div>
    ```
    Should render: ember background, parchment text, pill rounded, Cormorant Garamond font.

    Navigate to `/#/admin/TEST` — shows "Admin" placeholder.
    Navigate to `/#/voter/TEST` — shows "Voter" placeholder.

    Run `npm run build` — no errors.

    Verify `.github/workflows/deploy.yml` exists with correct structure.
  </verify>
  <done>
    All Tailwind v4 design tokens render correctly as utility classes. HashRouter serves three routes. Grain texture overlay visible. GitHub Actions deploy workflow file exists. Production build succeeds.
  </done>
</task>

</tasks>

<verification>
1. `npm run dev` starts without errors
2. `npm run build` produces `dist/` with `/cooking_contest/` base paths
3. Tailwind utility classes from @theme tokens work (bg-ink, text-ember, font-display, rounded-pill, shadow-sm, animate-pulse)
4. HashRouter routes work: `/#/`, `/#/admin/TEST`, `/#/voter/TEST`
5. Google Fonts load (Cormorant Garamond + Outfit visible in DevTools)
6. Grain SVG overlay renders on page
7. `.github/workflows/deploy.yml` exists with correct workflow
8. `.env.example` has VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY
</verification>

<success_criteria>
A developer can clone the repo, run `npm install && npm run dev`, and see a working React app with the full design system loaded, HashRouter navigation, and all design tokens available as Tailwind utility classes. The deploy workflow is ready for GitHub Pages.
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-auth/01-01-SUMMARY.md`
</output>
